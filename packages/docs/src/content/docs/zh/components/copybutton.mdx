---
title: CopyButton 复制按钮
description: 用于将文本复制到剪贴板并带视觉反馈的按钮
tableOfContents: false
---

import {
  BasicDemo,
  WithTextDemo,
  ColorsDemo,
  VariantsDemo,
  SizesDemo,
  ShapesDemo,
  CodeBlockDemo,
  InputCopyDemo,
  CallbackDemo,
  CustomTimeoutDemo,
} from '../../../../components/CopyButtonDemo'
import CopyButtonDemoSource from '../../../../components/CopyButtonDemo.tsx?raw'
import Example from '../../../../components/Example.astro'

用于将文本复制到剪贴板并带视觉反馈的按钮组件。

## 引入

```tsx
import { CopyButton } from 'asterui'
```

## 示例

<div class="examples">

<Example title="基本用法" description="带默认图标的简单复制按钮。启用工具提示以获得视觉反馈。" source={CopyButtonDemoSource} fn="BasicDemo">
  <BasicDemo client:load slot="demo" />
</Example>

<Example title="带文本内容" description="显示文本内容而不是默认图标。" source={CopyButtonDemoSource} fn="WithTextDemo">
  <WithTextDemo client:load slot="demo" />
</Example>

<Example title="颜色" description="对按钮应用不同的颜色主题。" source={CopyButtonDemoSource} fn="ColorsDemo">
  <ColorsDemo client:load slot="demo" />
</Example>

<Example title="变体" description="不同的按钮样式变体。" source={CopyButtonDemoSource} fn="VariantsDemo">
  <VariantsDemo client:load slot="demo" />
</Example>

<Example title="尺寸" description="可用的按钮尺寸。" source={CopyButtonDemoSource} fn="SizesDemo">
  <SizesDemo client:load slot="demo" />
</Example>

<Example title="形状" description="方形和圆形按钮形状。" source={CopyButtonDemoSource} fn="ShapesDemo">
  <ShapesDemo client:load slot="demo" />
</Example>

<Example title="代码块" description="放置在自定义代码块角落的复制按钮。" source={CopyButtonDemoSource} fn="CodeBlockDemo">
  <CodeBlockDemo client:load slot="demo" />
</Example>

<Example title="带复制的输入框" description="从输入字段复制值。" source={CopyButtonDemoSource} fn="InputCopyDemo">
  <InputCopyDemo client:load slot="demo" />
</Example>

<Example title="回调函数" description="处理复制成功和错误事件。" source={CopyButtonDemoSource} fn="CallbackDemo">
  <CallbackDemo client:load slot="demo" />
</Example>

<Example title="自定义超时" description="控制已复制状态显示的时长。" source={CopyButtonDemoSource} fn="CustomTimeoutDemo">
  <CustomTimeoutDemo client:load slot="demo" />
</Example>

</div>

## API

### `CopyButton`

| 属性 | 描述 | 类型 | 默认值 |
|----------|-------------|------|---------|
| `text` | 要复制到剪贴板的文本 | `string` | - |
| `timeout` | 显示已复制状态的持续时间（毫秒） | `number` | `2000` |
| `color` | 按钮颜色 | `'primary' \| 'secondary' \| 'accent' \| 'info' \| 'success' \| 'warning' \| 'error' \| 'neutral'` | - |
| `variant` | 按钮样式变体 | `'solid' \| 'outline' \| 'dash' \| 'soft' \| 'ghost' \| 'link'` | - |
| `size` | 按钮大小 | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl'` | `'md'` |
| `shape` | 按钮形状 | `'square' \| 'circle'` | - |
| `icon` | 默认状态的自定义图标 | `ReactNode` | 复制图标 |
| `copiedIcon` | 已复制状态的自定义图标 | `ReactNode` | 勾选图标 |
| `children` | 默认状态的自定义内容（覆盖 icon） | `ReactNode` | - |
| `copiedChildren` | 已复制状态的自定义内容 | `ReactNode` | - |
| `onCopy` | 复制成功时的回调函数 | `() => void` | - |
| `onError` | 复制失败时的回调函数 | `(error: Error) => void` | - |
| `showTooltip` | 显示带复制状态的工具提示 | `boolean` | `false` |
| `tooltipText` | 默认状态的工具提示文本 | `string` | `'复制'` |
| `copiedTooltipText` | 已复制状态的工具提示文本 | `string` | `'已复制！'` |
| `disabled` | 禁用按钮 | `boolean` | `false` |

## 无障碍

- 使用原生 button 元素以获得键盘支持
- 通过图标变化和可选工具提示提供视觉反馈
- 禁用状态会正确传达
